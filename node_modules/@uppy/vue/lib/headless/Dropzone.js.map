{"version":3,"names":["defineComponent","ref","watch","onMounted","h","Dropzone","PreactDropzone","preactH","render","preactRender","shallowEqualObjects","useUppyContext","name","setup","props","_ref","attrs","containerRef","ctx","renderDropzone","value","current","old"],"sources":["Dropzone.ts"],"sourcesContent":["import { defineComponent, ref, watch, onMounted, h } from 'vue'\nimport {\n  Dropzone as PreactDropzone,\n  type DropzoneProps,\n} from '@uppy/components'\nimport { h as preactH } from 'preact'\nimport { render as preactRender } from 'preact/compat'\nimport { shallowEqualObjects } from 'shallow-equal'\nimport { useUppyContext } from './useUppyContext.js'\n\nexport default defineComponent<Omit<DropzoneProps, 'ctx'>>({\n  name: 'Dropzone',\n  setup(props, { attrs }) {\n    const containerRef = ref<HTMLElement | null>(null)\n    const ctx = useUppyContext()\n\n    function renderDropzone() {\n      if (containerRef.value) {\n        preactRender(\n          preactH(PreactDropzone, {\n            ...(attrs as DropzoneProps),\n            ctx,\n          } satisfies DropzoneProps),\n          containerRef.value,\n        )\n      }\n    }\n\n    onMounted(() => {\n      renderDropzone()\n    })\n\n    watch(ctx, () => {\n      renderDropzone()\n    })\n\n    watch(\n      () => props,\n      (current, old) => {\n        if (!shallowEqualObjects(current, old)) {\n          renderDropzone()\n        }\n      },\n    )\n\n    return () => h('div', { ref: containerRef })\n  },\n})\n"],"mappings":"AAAA,SAASA,eAAe,EAAEC,GAAG,EAAEC,KAAK,EAAEC,SAAS,EAAEC,CAAC,QAAQ,KAAK;AAC/D,SACEC,QAAQ,IAAIC,cAAc,QAErB,kBAAkB;AACzB,SAASF,CAAC,IAAIG,OAAO,QAAQ,QAAQ;AACrC,SAASC,MAAM,IAAIC,YAAY,QAAQ,eAAe;AACtD,SAASC,mBAAmB,QAAQ,eAAe;AACnD,SAASC,cAAc,QAAQ,qBAAqB;AAEpD,eAAeX,eAAe,CAA6B;EACzDY,IAAI,EAAE,UAAU;EAChBC,KAAKA,CAACC,KAAK,EAAAC,IAAA,EAAa;IAAA,IAAX;MAAEC;IAAM,CAAC,GAAAD,IAAA;IACpB,MAAME,YAAY,GAAGhB,GAAG,CAAqB,IAAI,CAAC;IAClD,MAAMiB,GAAG,GAAGP,cAAc,CAAC,CAAC;IAE5B,SAASQ,cAAcA,CAAA,EAAG;MACxB,IAAIF,YAAY,CAACG,KAAK,EAAE;QACtBX,YAAY,CACVF,OAAO,CAACD,cAAc,EAAE;UACtB,GAAIU,KAAuB;UAC3BE;QACF,CAAyB,CAAC,EAC1BD,YAAY,CAACG,KACf,CAAC;MACH;IACF;IAEAjB,SAAS,CAAC,MAAM;MACdgB,cAAc,CAAC,CAAC;IAClB,CAAC,CAAC;IAEFjB,KAAK,CAACgB,GAAG,EAAE,MAAM;MACfC,cAAc,CAAC,CAAC;IAClB,CAAC,CAAC;IAEFjB,KAAK,CACH,MAAMY,KAAK,EACX,CAACO,OAAO,EAAEC,GAAG,KAAK;MAChB,IAAI,CAACZ,mBAAmB,CAACW,OAAO,EAAEC,GAAG,CAAC,EAAE;QACtCH,cAAc,CAAC,CAAC;MAClB;IACF,CACF,CAAC;IAED,OAAO,MAAMf,CAAC,CAAC,KAAK,EAAE;MAAEH,GAAG,EAAEgB;IAAa,CAAC,CAAC;EAC9C;AACF,CAAC,CAAC","ignoreList":[]}
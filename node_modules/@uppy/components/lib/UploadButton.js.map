{"version":3,"names":["h","clsx","UploadButton","props","_ctx$uppy2","ctx","className","type","status","onClick","_ctx$uppy","uppy","upload","disabled","style","transform","progress","Math","round","getState","capabilities","resumableUploads","_ctx$uppy3","resumeAll","_ctx$uppy4","pauseAll","_ctx$uppy5","cancelAll"],"sources":["UploadButton.tsx"],"sourcesContent":["/* eslint-disable no-nested-ternary */\n/* eslint-disable react/destructuring-assignment */\nimport { h } from 'preact'\nimport { clsx } from 'clsx'\nimport type { UppyContext } from './types'\n\nexport type UploadButtonProps = {\n  ctx: UppyContext\n}\n\nexport default function UploadButton(props: UploadButtonProps) {\n  const { ctx } = props\n\n  return (\n    <div className=\"uppy-reset uppy:space-y-2\">\n      <button\n        type=\"button\"\n        data-uppy-element=\"upload-button\"\n        data-state={ctx.status}\n        onClick={() => {\n          if (ctx.status === 'ready') {\n            ctx.uppy?.upload()\n          }\n        }}\n        className={clsx(\n          'uppy:relative uppy:w-full uppy:p-2 uppy:rounded-lg',\n          'uppy:text-white uppy:font-medium',\n          'uppy:transition-all uppy:overflow-hidden',\n          'uppy:bg-blue-500 uppy:hover:bg-blue-600',\n          {\n            'uppy:bg-red-500 uppy:hover:bg-red-600': ctx.status === 'error',\n            'uppy:bg-green-500 uppy:hover:bg-green-600':\n              ctx.status === 'complete',\n          },\n          'uppy:disabled:hover:bg-blue-500 uppy:disabled:cursor-not-allowed',\n        )}\n        disabled={\n          ctx.status === 'init' ||\n          ctx.status === 'uploading' ||\n          ctx.status === 'paused'\n        }\n      >\n        <div\n          className={clsx(\n            'uppy:absolute uppy:inset-0 uppy:origin-left uppy:transition-all',\n            {\n              'uppy:bg-red-700': ctx.status === 'error',\n              'uppy:bg-green-700': ctx.status === 'complete',\n              'uppy:bg-blue-700':\n                ctx.status !== 'error' && ctx.status !== 'complete',\n            },\n          )}\n          style={{\n            transform: `scaleX(${ctx.progress / 100})`,\n          }}\n        />\n        <span className=\"uppy:relative uppy:z-10\">\n          {ctx.status === 'uploading' || ctx.status === 'paused' ?\n            `Uploaded ${Math.round(ctx.progress)}%`\n          : ctx.status === 'error' ?\n            'Retry'\n          : ctx.status === 'complete' ?\n            'Complete'\n          : 'Upload'}\n        </span>\n      </button>\n      {ctx.status === 'uploading' || ctx.status === 'paused' ?\n        <div className=\"uppy:flex uppy:gap-2\">\n          {ctx.uppy?.getState().capabilities.resumableUploads ?\n            <button\n              type=\"button\"\n              data-uppy-element=\"pause-button\"\n              data-state={ctx.status}\n              onClick={() => {\n                if (ctx.status === 'paused') {\n                  ctx.uppy?.resumeAll()\n                } else {\n                  ctx.uppy?.pauseAll()\n                }\n              }}\n              className={clsx(\n                'uppy:w-full uppy:p-2 uppy:rounded-lg uppy:text-amber-500 uppy:bg-gray-50 uppy:hover:bg-amber-50 uppy:font-medium uppy:transition-all',\n                {\n                  'uppy:text-green-500 uppy:hover:bg-green-50':\n                    ctx.status === 'paused',\n                },\n              )}\n            >\n              {ctx.status === 'paused' ? 'Resume' : 'Pause'}\n            </button>\n          : null}\n          <button\n            type=\"button\"\n            data-uppy-element=\"cancel-button\"\n            className=\"uppy:w-full uppy:p-2 uppy:rounded-lg uppy:text-red-500 uppy:bg-gray-50 uppy:hover:bg-red-50 uppy:font-medium uppy:transition-all\"\n            data-state={ctx.status}\n            onClick={() => ctx.uppy?.cancelAll()}\n          >\n            Cancel\n          </button>\n        </div>\n      : null}\n    </div>\n  )\n}\n"],"mappings":"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","ignoreList":[]}
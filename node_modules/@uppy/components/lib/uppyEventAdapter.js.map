{"version":3,"names":["createUppyEventAdapter","_ref","uppy","onStatusChange","onProgressChange","onFileAdded","onUploadStarted","onResumeAll","onComplete","onError","onCancelAll","onPauseAll","onProgress","p","on","cleanup","off"],"sources":["uppyEventAdapter.ts"],"sourcesContent":["import Uppy from '@uppy/core'\nimport type { UploadStatus } from './types'\n\nexport function createUppyEventAdapter({\n  uppy,\n  onStatusChange,\n  onProgressChange,\n}: {\n  uppy: Uppy\n  onStatusChange: (status: UploadStatus) => void\n  onProgressChange: (progress: number) => void\n}): { cleanup: () => void } {\n  const onFileAdded = () => {\n    onStatusChange('ready')\n  }\n  const onUploadStarted = () => {\n    onStatusChange('uploading')\n  }\n  const onResumeAll = () => {\n    onStatusChange('uploading')\n  }\n  const onComplete = () => {\n    onStatusChange('complete')\n    onProgressChange(0)\n  }\n  const onError = () => {\n    onStatusChange('error')\n    onProgressChange(0)\n  }\n  const onCancelAll = () => {\n    onStatusChange('init')\n    onProgressChange(0)\n  }\n  const onPauseAll = () => {\n    onStatusChange('paused')\n  }\n  const onProgress = (p: number) => {\n    onProgressChange(p)\n  }\n\n  uppy.on('file-added', onFileAdded)\n  uppy.on('progress', onProgress)\n  uppy.on('upload', onUploadStarted)\n  uppy.on('complete', onComplete)\n  uppy.on('error', onError)\n  uppy.on('cancel-all', onCancelAll)\n  uppy.on('pause-all', onPauseAll)\n  uppy.on('resume-all', onResumeAll)\n\n  return {\n    cleanup: () => {\n      uppy.off('file-added', onFileAdded)\n      uppy.off('progress', onProgress)\n      uppy.off('upload', onUploadStarted)\n      uppy.off('complete', onComplete)\n      uppy.off('error', onError)\n      uppy.off('cancel-all', onCancelAll)\n      uppy.off('pause-all', onPauseAll)\n      uppy.off('resume-all', onResumeAll)\n    },\n  }\n}\n"],"mappings":"AAGA,OAAO,SAASA,sBAAsBA,CAAAC,IAAA,EAQV;EAAA,IARW;IACrCC,IAAI;IACJC,cAAc;IACdC;EAKF,CAAC,GAAAH,IAAA;EACC,MAAMI,WAAW,GAAGA,CAAA,KAAM;IACxBF,cAAc,CAAC,OAAO,CAAC;EACzB,CAAC;EACD,MAAMG,eAAe,GAAGA,CAAA,KAAM;IAC5BH,cAAc,CAAC,WAAW,CAAC;EAC7B,CAAC;EACD,MAAMI,WAAW,GAAGA,CAAA,KAAM;IACxBJ,cAAc,CAAC,WAAW,CAAC;EAC7B,CAAC;EACD,MAAMK,UAAU,GAAGA,CAAA,KAAM;IACvBL,cAAc,CAAC,UAAU,CAAC;IAC1BC,gBAAgB,CAAC,CAAC,CAAC;EACrB,CAAC;EACD,MAAMK,OAAO,GAAGA,CAAA,KAAM;IACpBN,cAAc,CAAC,OAAO,CAAC;IACvBC,gBAAgB,CAAC,CAAC,CAAC;EACrB,CAAC;EACD,MAAMM,WAAW,GAAGA,CAAA,KAAM;IACxBP,cAAc,CAAC,MAAM,CAAC;IACtBC,gBAAgB,CAAC,CAAC,CAAC;EACrB,CAAC;EACD,MAAMO,UAAU,GAAGA,CAAA,KAAM;IACvBR,cAAc,CAAC,QAAQ,CAAC;EAC1B,CAAC;EACD,MAAMS,UAAU,GAAIC,CAAS,IAAK;IAChCT,gBAAgB,CAACS,CAAC,CAAC;EACrB,CAAC;EAEDX,IAAI,CAACY,EAAE,CAAC,YAAY,EAAET,WAAW,CAAC;EAClCH,IAAI,CAACY,EAAE,CAAC,UAAU,EAAEF,UAAU,CAAC;EAC/BV,IAAI,CAACY,EAAE,CAAC,QAAQ,EAAER,eAAe,CAAC;EAClCJ,IAAI,CAACY,EAAE,CAAC,UAAU,EAAEN,UAAU,CAAC;EAC/BN,IAAI,CAACY,EAAE,CAAC,OAAO,EAAEL,OAAO,CAAC;EACzBP,IAAI,CAACY,EAAE,CAAC,YAAY,EAAEJ,WAAW,CAAC;EAClCR,IAAI,CAACY,EAAE,CAAC,WAAW,EAAEH,UAAU,CAAC;EAChCT,IAAI,CAACY,EAAE,CAAC,YAAY,EAAEP,WAAW,CAAC;EAElC,OAAO;IACLQ,OAAO,EAAEA,CAAA,KAAM;MACbb,IAAI,CAACc,GAAG,CAAC,YAAY,EAAEX,WAAW,CAAC;MACnCH,IAAI,CAACc,GAAG,CAAC,UAAU,EAAEJ,UAAU,CAAC;MAChCV,IAAI,CAACc,GAAG,CAAC,QAAQ,EAAEV,eAAe,CAAC;MACnCJ,IAAI,CAACc,GAAG,CAAC,UAAU,EAAER,UAAU,CAAC;MAChCN,IAAI,CAACc,GAAG,CAAC,OAAO,EAAEP,OAAO,CAAC;MAC1BP,IAAI,CAACc,GAAG,CAAC,YAAY,EAAEN,WAAW,CAAC;MACnCR,IAAI,CAACc,GAAG,CAAC,WAAW,EAAEL,UAAU,CAAC;MACjCT,IAAI,CAACc,GAAG,CAAC,YAAY,EAAET,WAAW,CAAC;IACrC;EACF,CAAC;AACH","ignoreList":[]}